import{c as Mt,j as o,S as At,a as _,r as i,u as H,b as q,d as Me,e as R,P as k,f as I,g as ye,h as Ae,i as De,k as Oe,l as G,m as Dt,n as Ot,o as Ft,p as Gt,q as Lt,s as Ne,t as Fe,v as Ge,R as Bt,A as Vt,w as Ht,x as Ut,D as zt,C as $t,y as Kt,z as Yt,B as Wt,E as M,F as qt}from"./index-T4ktDWvX.js";const Pe=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,ke=Mt,Le=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return ke(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:a}=t,l=Object.keys(s).map(m=>{const f=n==null?void 0:n[m],d=a==null?void 0:a[m];if(f===null)return null;const p=Pe(f)||Pe(d);return s[m][p]}),c=n&&Object.entries(n).reduce((m,f)=>{let[d,p]=f;return p===void 0||(m[d]=p),m},{}),u=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((m,f)=>{let{class:d,className:p,...h}=f;return Object.entries(h).every(b=>{let[v,x]=b;return Array.isArray(x)?x.includes({...a,...c}[v]):{...a,...c}[v]===x})?[...m,d,p]:m},[]);return ke(e,l,u,n==null?void 0:n.class,n==null?void 0:n.className)},Xt=Le("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function Y({className:e,variant:t,size:n,asChild:r=!1,...s}){const a=r?At:"button";return o.jsx(a,{"data-slot":"button",className:_(Xt({variant:t,size:n,className:e})),...s})}var Be=["PageUp","PageDown"],Ve=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],He={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},$="Slider",[me,Jt,Qt]=Me($),[Ue,Nr]=q($,[Qt]),[Zt,oe]=Ue($),ze=i.forwardRef((e,t)=>{const{name:n,min:r=0,max:s=100,step:a=1,orientation:l="horizontal",disabled:c=!1,minStepsBetweenThumbs:u=0,defaultValue:m=[r],value:f,onValueChange:d=()=>{},onValueCommit:p=()=>{},inverted:h=!1,form:b,...v}=e,x=i.useRef(new Set),g=i.useRef(0),y=l==="horizontal"?en:tn,[w=[],j]=H({prop:f,defaultProp:m,onChange:N=>{var F;(F=[...x.current][g.current])==null||F.focus(),d(N)}}),T=i.useRef(w);function P(N){const A=an(w,N);O(N,A)}function S(N){O(N,g.current)}function D(){const N=T.current[g.current];w[g.current]!==N&&p(w)}function O(N,A,{commit:F}={commit:!1}){const ce=dn(a),K=fn(Math.round((N-r)/a)*a+r,ce),E=Ae(K,[r,s]);j((U=[])=>{const V=on(U,E,A);if(un(V,u*a)){g.current=V.indexOf(E);const Re=String(V)!==String(U);return Re&&F&&p(V),Re?V:U}else return U})}return o.jsx(Zt,{scope:e.__scopeSlider,name:n,disabled:c,min:r,max:s,valueIndexToChangeRef:g,thumbs:x.current,values:w,orientation:l,form:b,children:o.jsx(me.Provider,{scope:e.__scopeSlider,children:o.jsx(me.Slot,{scope:e.__scopeSlider,children:o.jsx(y,{"aria-disabled":c,"data-disabled":c?"":void 0,...v,ref:t,onPointerDown:R(v.onPointerDown,()=>{c||(T.current=w)}),min:r,max:s,inverted:h,onSlideStart:c?void 0:P,onSlideMove:c?void 0:S,onSlideEnd:c?void 0:D,onHomeKeyDown:()=>!c&&O(r,0,{commit:!0}),onEndKeyDown:()=>!c&&O(s,w.length-1,{commit:!0}),onStepKeyDown:({event:N,direction:A})=>{if(!c){const K=Be.includes(N.key)||N.shiftKey&&Ve.includes(N.key)?10:1,E=g.current,U=w[E],V=a*K*A;O(U+V,E,{commit:!0})}}})})})})});ze.displayName=$;var[$e,Ke]=Ue($,{startEdge:"left",endEdge:"right",size:"width",direction:1}),en=i.forwardRef((e,t)=>{const{min:n,max:r,dir:s,inverted:a,onSlideStart:l,onSlideMove:c,onSlideEnd:u,onStepKeyDown:m,...f}=e,[d,p]=i.useState(null),h=I(t,y=>p(y)),b=i.useRef(void 0),v=ye(s),x=v==="ltr",g=x&&!a||!x&&a;function C(y){const w=b.current||d.getBoundingClientRect(),j=[0,w.width],P=we(j,g?[n,r]:[r,n]);return b.current=w,P(y-w.left)}return o.jsx($e,{scope:e.__scopeSlider,startEdge:g?"left":"right",endEdge:g?"right":"left",direction:g?1:-1,size:"width",children:o.jsx(Ye,{dir:v,"data-orientation":"horizontal",...f,ref:h,style:{...f.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:y=>{const w=C(y.clientX);l==null||l(w)},onSlideMove:y=>{const w=C(y.clientX);c==null||c(w)},onSlideEnd:()=>{b.current=void 0,u==null||u()},onStepKeyDown:y=>{const j=He[g?"from-left":"from-right"].includes(y.key);m==null||m({event:y,direction:j?-1:1})}})})}),tn=i.forwardRef((e,t)=>{const{min:n,max:r,inverted:s,onSlideStart:a,onSlideMove:l,onSlideEnd:c,onStepKeyDown:u,...m}=e,f=i.useRef(null),d=I(t,f),p=i.useRef(void 0),h=!s;function b(v){const x=p.current||f.current.getBoundingClientRect(),g=[0,x.height],y=we(g,h?[r,n]:[n,r]);return p.current=x,y(v-x.top)}return o.jsx($e,{scope:e.__scopeSlider,startEdge:h?"bottom":"top",endEdge:h?"top":"bottom",size:"height",direction:h?1:-1,children:o.jsx(Ye,{"data-orientation":"vertical",...m,ref:d,style:{...m.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:v=>{const x=b(v.clientY);a==null||a(x)},onSlideMove:v=>{const x=b(v.clientY);l==null||l(x)},onSlideEnd:()=>{p.current=void 0,c==null||c()},onStepKeyDown:v=>{const g=He[h?"from-bottom":"from-top"].includes(v.key);u==null||u({event:v,direction:g?-1:1})}})})}),Ye=i.forwardRef((e,t)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:s,onSlideEnd:a,onHomeKeyDown:l,onEndKeyDown:c,onStepKeyDown:u,...m}=e,f=oe($,n);return o.jsx(k.span,{...m,ref:t,onKeyDown:R(e.onKeyDown,d=>{d.key==="Home"?(l(d),d.preventDefault()):d.key==="End"?(c(d),d.preventDefault()):Be.concat(Ve).includes(d.key)&&(u(d),d.preventDefault())}),onPointerDown:R(e.onPointerDown,d=>{const p=d.target;p.setPointerCapture(d.pointerId),d.preventDefault(),f.thumbs.has(p)?p.focus():r(d)}),onPointerMove:R(e.onPointerMove,d=>{d.target.hasPointerCapture(d.pointerId)&&s(d)}),onPointerUp:R(e.onPointerUp,d=>{const p=d.target;p.hasPointerCapture(d.pointerId)&&(p.releasePointerCapture(d.pointerId),a(d))})})}),We="SliderTrack",qe=i.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,s=oe(We,n);return o.jsx(k.span,{"data-disabled":s.disabled?"":void 0,"data-orientation":s.orientation,...r,ref:t})});qe.displayName=We;var pe="SliderRange",Xe=i.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,s=oe(pe,n),a=Ke(pe,n),l=i.useRef(null),c=I(t,l),u=s.values.length,m=s.values.map(p=>Ze(p,s.min,s.max)),f=u>1?Math.min(...m):0,d=100-Math.max(...m);return o.jsx(k.span,{"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,...r,ref:c,style:{...e.style,[a.startEdge]:f+"%",[a.endEdge]:d+"%"}})});Xe.displayName=pe;var he="SliderThumb",Je=i.forwardRef((e,t)=>{const n=Jt(e.__scopeSlider),[r,s]=i.useState(null),a=I(t,c=>s(c)),l=i.useMemo(()=>r?n().findIndex(c=>c.ref.current===r):-1,[n,r]);return o.jsx(nn,{...e,ref:a,index:l})}),nn=i.forwardRef((e,t)=>{const{__scopeSlider:n,index:r,name:s,...a}=e,l=oe(he,n),c=Ke(he,n),[u,m]=i.useState(null),f=I(t,C=>m(C)),d=u?l.form||!!u.closest("form"):!0,p=De(u),h=l.values[r],b=h===void 0?0:Ze(h,l.min,l.max),v=sn(r,l.values.length),x=p==null?void 0:p[c.size],g=x?ln(x,b,c.direction):0;return i.useEffect(()=>{if(u)return l.thumbs.add(u),()=>{l.thumbs.delete(u)}},[u,l.thumbs]),o.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[c.startEdge]:`calc(${b}% + ${g}px)`},children:[o.jsx(me.ItemSlot,{scope:e.__scopeSlider,children:o.jsx(k.span,{role:"slider","aria-label":e["aria-label"]||v,"aria-valuemin":l.min,"aria-valuenow":h,"aria-valuemax":l.max,"aria-orientation":l.orientation,"data-orientation":l.orientation,"data-disabled":l.disabled?"":void 0,tabIndex:l.disabled?void 0:0,...a,ref:f,style:h===void 0?{display:"none"}:e.style,onFocus:R(e.onFocus,()=>{l.valueIndexToChangeRef.current=r})})}),d&&o.jsx(Qe,{name:s??(l.name?l.name+(l.values.length>1?"[]":""):void 0),form:l.form,value:h},r)]})});Je.displayName=he;var rn="RadioBubbleInput",Qe=i.forwardRef(({__scopeSlider:e,value:t,...n},r)=>{const s=i.useRef(null),a=I(s,r),l=Oe(t);return i.useEffect(()=>{const c=s.current;if(!c)return;const u=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(u,"value").set;if(l!==t&&f){const d=new Event("input",{bubbles:!0});f.call(c,t),c.dispatchEvent(d)}},[l,t]),o.jsx(k.input,{style:{display:"none"},...n,ref:a,defaultValue:t})});Qe.displayName=rn;function on(e=[],t,n){const r=[...e];return r[n]=t,r.sort((s,a)=>s-a)}function Ze(e,t,n){const a=100/(n-t)*(e-t);return Ae(a,[0,100])}function sn(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function an(e,t){if(e.length===1)return 0;const n=e.map(s=>Math.abs(s-t)),r=Math.min(...n);return n.indexOf(r)}function ln(e,t,n){const r=e/2,a=we([0,50],[0,r]);return(r-a(t)*n)*n}function cn(e){return e.slice(0,-1).map((t,n)=>e[n+1]-t)}function un(e,t){if(t>0){const n=cn(e);return Math.min(...n)>=t}return!0}function we(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function dn(e){return(String(e).split(".")[1]||"").length}function fn(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}var mn=ze,pn=qe,hn=Xe,xn=Je;function gn({className:e,defaultValue:t,value:n,min:r=0,max:s=100,...a}){const l=i.useMemo(()=>Array.isArray(n)?n:Array.isArray(t)?t:[r,s],[n,t,r,s]);return o.jsxs(mn,{"data-slot":"slider",defaultValue:t,value:n,min:r,max:s,className:_("relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50 data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col",e),...a,children:[o.jsx(pn,{"data-slot":"slider-track",className:_("bg-muted relative grow overflow-hidden rounded-full data-[orientation=horizontal]:h-1.5 data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-1.5"),children:o.jsx(hn,{"data-slot":"slider-range",className:_("bg-primary absolute data-[orientation=horizontal]:h-full data-[orientation=vertical]:w-full")})}),Array.from({length:l.length},(c,u)=>o.jsx(xn,{"data-slot":"slider-thumb",className:"border-primary bg-background ring-ring/50 block size-4 shrink-0 rounded-full border shadow-sm transition-[color,box-shadow] hover:ring-4 focus-visible:ring-4 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50"},u))]})}const Ee=40,Ie=280,vn=[{name:"1/4",value:1},{name:"2/4",value:2},{name:"3/4",value:3},{name:"4/4",value:4},{name:"6/8",value:6}],bn=({className:e})=>{const[t,n]=i.useState(120),[r,s]=i.useState(!1),[a,l]=i.useState(0),[c,u]=i.useState(4),[m,f]=i.useState(!1),[d,p]=i.useState(!1),h=i.useRef(null),b=i.useRef(null),v=i.useRef(a);i.useEffect(()=>{v.current=a},[a]),i.useEffect(()=>{p(!0);const T=setTimeout(()=>p(!1),3700);return()=>clearTimeout(T)},[]),i.useEffect(()=>{l(0)},[c,t]),i.useEffect(()=>{if(r){const T=60/t*1e3;b.current=setInterval(y,T)}else g();return g},[r,t,c]);const x=i.useCallback(()=>{h.current||(h.current=new(window.AudioContext||window.webkitAudioContext)),h.current.state==="suspended"&&h.current.resume()},[]),g=i.useCallback(()=>{b.current&&(clearInterval(b.current),b.current=null)},[]),C=i.useCallback((T,P)=>{if(!h.current)return;const S=h.current.createOscillator(),D=h.current.createGain();S.type="sine",S.frequency.value=T,D.gain.value=.5,S.connect(D),D.connect(h.current.destination),S.start(),D.gain.exponentialRampToValueAtTime(.001,h.current.currentTime+P),S.stop(h.current.currentTime+P)},[]),y=i.useCallback(()=>{const T=v.current%c===0;C(T?1200:800,T?.1:.05),l(P=>(P+1)%c)},[c,C]),w=i.useCallback(()=>{x(),s(T=>(T||l(0),!T))},[x]),j=i.useCallback(T=>{n(Math.max(Ee,Math.min(Ie,T)))},[]);return o.jsxs("div",{className:`absolute right-0 flex items-center ${d?"animate-bounce-left-twice":""}`,children:[o.jsxs(Y,{type:"button",onClick:()=>f(!m),className:`right-0 flex h-[140px] w-4 flex-col gap-6 rounded-tr-none rounded-br-none border-1 border-gray-100 bg-white text-black shadow-2xl duration-300 hover:border-0 hover:bg-yellow-400 hover:text-white ${m?"absolute right-0":""} `,children:[o.jsx("span",{className:"mb-6 rotate-90 transform pl-12 whitespace-nowrap",children:"Метроном"}),m?o.jsx("span",{className:"text-2xl",children:"⥃"}):o.jsx("span",{className:"text-2xl",children:"⥂"})]}),o.jsxs("div",{className:`top-0 right-full z-10 mr-4 mb-4 flex flex-col items-center gap-2 rounded-lg border border-gray-100 bg-white p-2 shadow-md transition-all duration-300 ease-in-out ${m?"pointer-events-none translate-x-4 opacity-0":"translate-x-0 opacity-100"} ${e} `,children:[o.jsx("img",{className:"h-25",src:G.METRONOME_IMG,alt:"Metronome Icon"}),o.jsxs("div",{className:"flex flex-col items-center justify-center gap-4 text-center",children:[o.jsxs("div",{className:"flex items-center justify-center gap-2",children:[o.jsx(Y,{type:"button",onClick:()=>j(t-1),className:"bg-white-600 flex h-8 w-8 items-center justify-center rounded-full border-1 border-black text-black duration-300 hover:bg-black hover:text-white hover:shadow-xl",children:"-"}),o.jsxs("p",{className:"font-mono text-xl",children:[t," BPM"]}),o.jsx(Y,{type:"button",onClick:()=>j(t+1),className:"bg-white-600 flex h-8 w-8 items-center justify-center rounded-full border-1 border-black text-black duration-300 hover:bg-black hover:text-white hover:shadow-xl",children:"+"})]}),o.jsx(gn,{defaultValue:[120],step:1,onValueChange:T=>j(T[0]),min:Ee,max:Ie,value:[t]})]}),o.jsxs("div",{className:"w-full",children:[o.jsx("label",{htmlFor:"tsize",children:"Тактовый размер"}),o.jsxs(Dt,{onValueChange:T=>u(parseInt(T)),defaultValue:String(c),children:[o.jsx(Ot,{id:"tsize",className:"w-full",children:o.jsx(Ft,{placeholder:"Размер"})}),o.jsx(Gt,{children:vn.map(T=>o.jsx(Lt,{value:String(T.value),children:T.name},T.value))})]})]}),o.jsx(Y,{type:"button",onClick:w,className:`w-full rounded-lg px-6 py-6 text-4xl text-white ${r?"bg-red-600 hover:bg-red-700":"bg-yellow-500 hover:bg-yellow-400"}`,children:r?"■":"▶"})]})]})};function yn(e,t){return i.useReducer((n,r)=>t[n][r]??n,e)}var se=e=>{const{present:t,children:n}=e,r=wn(t),s=typeof n=="function"?n({present:r.isPresent}):i.Children.only(n),a=I(r.ref,Cn(s));return typeof n=="function"||r.isPresent?i.cloneElement(s,{ref:a}):null};se.displayName="Presence";function wn(e){const[t,n]=i.useState(),r=i.useRef(null),s=i.useRef(e),a=i.useRef("none"),l=e?"mounted":"unmounted",[c,u]=yn(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return i.useEffect(()=>{const m=Q(r.current);a.current=c==="mounted"?m:"none"},[c]),Ne(()=>{const m=r.current,f=s.current;if(f!==e){const p=a.current,h=Q(m);e?u("MOUNT"):h==="none"||(m==null?void 0:m.display)==="none"?u("UNMOUNT"):u(f&&p!==h?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,u]),Ne(()=>{if(t){let m;const f=t.ownerDocument.defaultView??window,d=h=>{const v=Q(r.current).includes(h.animationName);if(h.target===t&&v&&(u("ANIMATION_END"),!s.current)){const x=t.style.animationFillMode;t.style.animationFillMode="forwards",m=f.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=x)})}},p=h=>{h.target===t&&(a.current=Q(r.current))};return t.addEventListener("animationstart",p),t.addEventListener("animationcancel",d),t.addEventListener("animationend",d),()=>{f.clearTimeout(m),t.removeEventListener("animationstart",p),t.removeEventListener("animationcancel",d),t.removeEventListener("animationend",d)}}else u("ANIMATION_END")},[t,u]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:i.useCallback(m=>{r.current=m?getComputedStyle(m):null,n(m)},[])}}function Q(e){return(e==null?void 0:e.animationName)||"none"}function Cn(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var[ae,Pr]=q("Tooltip",[Fe]),ie=Fe(),et="TooltipProvider",Tn=700,xe="tooltip.open",[jn,Ce]=ae(et),tt=e=>{const{__scopeTooltip:t,delayDuration:n=Tn,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:a}=e,l=i.useRef(!0),c=i.useRef(!1),u=i.useRef(0);return i.useEffect(()=>{const m=u.current;return()=>window.clearTimeout(m)},[]),o.jsx(jn,{scope:t,isOpenDelayedRef:l,delayDuration:n,onOpen:i.useCallback(()=>{window.clearTimeout(u.current),l.current=!1},[]),onClose:i.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>l.current=!0,r)},[r]),isPointerInTransitRef:c,onPointerInTransitChange:i.useCallback(m=>{c.current=m},[]),disableHoverableContent:s,children:a})};tt.displayName=et;var W="Tooltip",[Sn,X]=ae(W),nt=e=>{const{__scopeTooltip:t,children:n,open:r,defaultOpen:s,onOpenChange:a,disableHoverableContent:l,delayDuration:c}=e,u=Ce(W,e.__scopeTooltip),m=ie(t),[f,d]=i.useState(null),p=Ge(),h=i.useRef(0),b=l??u.disableHoverableContent,v=c??u.delayDuration,x=i.useRef(!1),[g,C]=H({prop:r,defaultProp:s??!1,onChange:P=>{P?(u.onOpen(),document.dispatchEvent(new CustomEvent(xe))):u.onClose(),a==null||a(P)},caller:W}),y=i.useMemo(()=>g?x.current?"delayed-open":"instant-open":"closed",[g]),w=i.useCallback(()=>{window.clearTimeout(h.current),h.current=0,x.current=!1,C(!0)},[C]),j=i.useCallback(()=>{window.clearTimeout(h.current),h.current=0,C(!1)},[C]),T=i.useCallback(()=>{window.clearTimeout(h.current),h.current=window.setTimeout(()=>{x.current=!0,C(!0),h.current=0},v)},[v,C]);return i.useEffect(()=>()=>{h.current&&(window.clearTimeout(h.current),h.current=0)},[]),o.jsx(Bt,{...m,children:o.jsx(Sn,{scope:t,contentId:p,open:g,stateAttribute:y,trigger:f,onTriggerChange:d,onTriggerEnter:i.useCallback(()=>{u.isOpenDelayedRef.current?T():w()},[u.isOpenDelayedRef,T,w]),onTriggerLeave:i.useCallback(()=>{b?j():(window.clearTimeout(h.current),h.current=0)},[j,b]),onOpen:w,onClose:j,disableHoverableContent:b,children:n})})};nt.displayName=W;var ge="TooltipTrigger",rt=i.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=X(ge,n),a=Ce(ge,n),l=ie(n),c=i.useRef(null),u=I(t,c,s.onTriggerChange),m=i.useRef(!1),f=i.useRef(!1),d=i.useCallback(()=>m.current=!1,[]);return i.useEffect(()=>()=>document.removeEventListener("pointerup",d),[d]),o.jsx(Vt,{asChild:!0,...l,children:o.jsx(k.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:u,onPointerMove:R(e.onPointerMove,p=>{p.pointerType!=="touch"&&!f.current&&!a.isPointerInTransitRef.current&&(s.onTriggerEnter(),f.current=!0)}),onPointerLeave:R(e.onPointerLeave,()=>{s.onTriggerLeave(),f.current=!1}),onPointerDown:R(e.onPointerDown,()=>{s.open&&s.onClose(),m.current=!0,document.addEventListener("pointerup",d,{once:!0})}),onFocus:R(e.onFocus,()=>{m.current||s.onOpen()}),onBlur:R(e.onBlur,s.onClose),onClick:R(e.onClick,s.onClose)})})});rt.displayName=ge;var Te="TooltipPortal",[Rn,Nn]=ae(Te,{forceMount:void 0}),ot=e=>{const{__scopeTooltip:t,forceMount:n,children:r,container:s}=e,a=X(Te,t);return o.jsx(Rn,{scope:t,forceMount:n,children:o.jsx(se,{present:n||a.open,children:o.jsx(Ht,{asChild:!0,container:s,children:r})})})};ot.displayName=Te;var z="TooltipContent",st=i.forwardRef((e,t)=>{const n=Nn(z,e.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...a}=e,l=X(z,e.__scopeTooltip);return o.jsx(se,{present:r||l.open,children:l.disableHoverableContent?o.jsx(at,{side:s,...a,ref:t}):o.jsx(Pn,{side:s,...a,ref:t})})}),Pn=i.forwardRef((e,t)=>{const n=X(z,e.__scopeTooltip),r=Ce(z,e.__scopeTooltip),s=i.useRef(null),a=I(t,s),[l,c]=i.useState(null),{trigger:u,onClose:m}=n,f=s.current,{onPointerInTransitChange:d}=r,p=i.useCallback(()=>{c(null),d(!1)},[d]),h=i.useCallback((b,v)=>{const x=b.currentTarget,g={x:b.clientX,y:b.clientY},C=_n(g,x.getBoundingClientRect()),y=Mn(g,C),w=An(v.getBoundingClientRect()),j=On([...y,...w]);c(j),d(!0)},[d]);return i.useEffect(()=>()=>p(),[p]),i.useEffect(()=>{if(u&&f){const b=x=>h(x,f),v=x=>h(x,u);return u.addEventListener("pointerleave",b),f.addEventListener("pointerleave",v),()=>{u.removeEventListener("pointerleave",b),f.removeEventListener("pointerleave",v)}}},[u,f,h,p]),i.useEffect(()=>{if(l){const b=v=>{const x=v.target,g={x:v.clientX,y:v.clientY},C=(u==null?void 0:u.contains(x))||(f==null?void 0:f.contains(x)),y=!Dn(g,l);C?p():y&&(p(),m())};return document.addEventListener("pointermove",b),()=>document.removeEventListener("pointermove",b)}},[u,f,l,m,p]),o.jsx(at,{...e,ref:a})}),[kn,En]=ae(W,{isInside:!1}),In=Kt("TooltipContent"),at=i.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:a,onPointerDownOutside:l,...c}=e,u=X(z,n),m=ie(n),{onClose:f}=u;return i.useEffect(()=>(document.addEventListener(xe,f),()=>document.removeEventListener(xe,f)),[f]),i.useEffect(()=>{if(u.trigger){const d=p=>{const h=p.target;h!=null&&h.contains(u.trigger)&&f()};return window.addEventListener("scroll",d,{capture:!0}),()=>window.removeEventListener("scroll",d,{capture:!0})}},[u.trigger,f]),o.jsx(zt,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:d=>d.preventDefault(),onDismiss:f,children:o.jsxs($t,{"data-state":u.stateAttribute,...m,...c,ref:t,style:{...c.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[o.jsx(In,{children:r}),o.jsx(kn,{scope:n,isInside:!0,children:o.jsx(Yt,{id:u.contentId,role:"tooltip",children:s||r})})]})})});st.displayName=z;var it="TooltipArrow",lt=i.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=ie(n);return En(it,n).isInside?null:o.jsx(Ut,{...s,...r,ref:t})});lt.displayName=it;function _n(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(n,r,s,a)){case a:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function Mn(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function An(e){const{top:t,right:n,bottom:r,left:s}=e;return[{x:s,y:t},{x:n,y:t},{x:n,y:r},{x:s,y:r}]}function Dn(e,t){const{x:n,y:r}=e;let s=!1;for(let a=0,l=t.length-1;a<t.length;l=a++){const c=t[a],u=t[l],m=c.x,f=c.y,d=u.x,p=u.y;f>r!=p>r&&n<(d-m)*(r-f)/(p-f)+m&&(s=!s)}return s}function On(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),Fn(t)}function Fn(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const s=e[r];for(;t.length>=2;){const a=t[t.length-1],l=t[t.length-2];if((a.x-l.x)*(s.y-l.y)>=(a.y-l.y)*(s.x-l.x))t.pop();else break}t.push(s)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const s=e[r];for(;n.length>=2;){const a=n[n.length-1],l=n[n.length-2];if((a.x-l.x)*(s.y-l.y)>=(a.y-l.y)*(s.x-l.x))n.pop();else break}n.push(s)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var Gn=tt,Ln=nt,Bn=rt,Vn=ot,Hn=st,Un=lt;function zn({delayDuration:e=0,...t}){return o.jsx(Gn,{"data-slot":"tooltip-provider",delayDuration:e,...t})}function Z({...e}){return o.jsx(zn,{children:o.jsx(Ln,{"data-slot":"tooltip",...e})})}function ee({...e}){return o.jsx(Bn,{"data-slot":"tooltip-trigger",...e})}function te({className:e,sideOffset:t=0,children:n,...r}){return o.jsx(Vn,{children:o.jsxs(Hn,{"data-slot":"tooltip-content",sideOffset:t,className:_("bg-primary text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance",e),...r,children:[n,o.jsx(Un,{className:"bg-primary fill-primary z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]})})}const ne=e=>e.toString().padStart(2,"0"),ue=({label:e,onClick:t,variant:n})=>{const r={primary:"bg-yellow-500 hover:bg-yellow-400 focus:ring-yellow-400 text-white",secondary:"bg-gray-600 hover:bg-gray-700 focus:ring-gray-500 text-white",danger:"bg-red-600 hover:bg-red-700 focus:ring-red-500 text-white"};return o.jsx(Y,{type:"button",onClick:t,className:`h-12 rounded-md px-6 py-2 focus:ring-2 focus:ring-offset-2 focus:outline-none ${r[n]}`,children:e})};function ve({className:e,type:t,...n}){return o.jsx("input",{type:t,"data-slot":"input",className:_("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...n})}const de=({id:e,value:t,min:n,max:r,label:s,onChange:a})=>o.jsxs("div",{className:"w-1/3",children:[o.jsx(ve,{id:e,type:"number",min:n,max:r,value:ne(t),onChange:l=>a(Number(l.target.value)),className:"h-12 w-full bg-white text-center text-2xl"}),o.jsx("label",{htmlFor:e,className:"block text-center font-medium text-gray-600",children:s})]}),$n=()=>{const[e,t]=i.useState(0),[n,r]=i.useState(!1),s=i.useRef(null),{hours:a,minutes:l,seconds:c}=i.useMemo(()=>({hours:Math.floor(e/3600),minutes:Math.floor(e%3600/60),seconds:e%60}),[e]),u=i.useCallback(()=>{s.current&&(clearInterval(s.current),s.current=null)},[]),m=i.useCallback(()=>{t(0)},[]),f=i.useCallback(()=>{r(p=>!p)},[]),d=i.useCallback((p,h)=>{const b=Math.max(0,Math.min(p==="hours"?24:59,h));t(v=>{const x={hours:Math.floor(v/3600),minutes:Math.floor(v%3600/60),seconds:v%60};switch(p){case"hours":return b*3600+x.minutes*60+x.seconds;case"minutes":return x.hours*3600+b*60+x.seconds;case"seconds":return x.hours*3600+x.minutes*60+b;default:return v}})},[]);return i.useEffect(()=>(n?s.current=setInterval(()=>{t(p=>p+1)},1e3):u(),u),[n,u]),o.jsx("div",{className:"w-full",children:o.jsxs("fieldset",{className:"flex flex-col items-center space-y-2",children:[o.jsx("legend",{className:"text-center",children:"Таймер тренировки:"}),o.jsx("input",{type:"hidden",name:"time",id:"timer",value:`${ne(a)}:${ne(l)}:${ne(c)}`}),o.jsxs("div",{className:"flex w-full items-start justify-center gap-6",children:[n?o.jsxs(Z,{children:[o.jsx(ee,{asChild:!0,children:o.jsx(ue,{label:"⏸︎",onClick:f,variant:"danger"})}),o.jsx(te,{children:"Остановить таймер"})]}):o.jsxs(Z,{children:[o.jsx(ee,{asChild:!0,children:o.jsx(ue,{label:"●",onClick:f,variant:"primary"})}),o.jsx(te,{children:"Включить таймер"})]}),o.jsxs("div",{className:"flex w-1/2 items-center justify-between gap-4",children:[o.jsx(de,{id:"timerHours",value:a,min:0,max:24,label:"Часы",onChange:p=>d("hours",p)}),o.jsx(de,{id:"timerMinutes",value:l,min:0,max:59,label:"Минуты",onChange:p=>d("minutes",p)}),o.jsx(de,{id:"timerSeconds",value:c,min:0,max:59,label:"Секунды",onChange:p=>d("seconds",p)})]}),o.jsxs(Z,{children:[o.jsx(ee,{asChild:!0,children:o.jsx(ue,{label:"■",onClick:m,variant:"secondary"})}),o.jsx(te,{children:"Сбросить таймер"})]})]})]})})};function Kn({className:e,...t}){return o.jsx("textarea",{"data-slot":"textarea",className:_("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...t})}const Yn=({value:e,onChange:t})=>{const[n,r]=i.useState(null);return o.jsxs("fieldset",{className:"mt-3 flex flex-col items-center",children:[o.jsx("legend",{className:"text-center",children:"Сложность:"}),o.jsxs("div",{className:"flex items-center space-x-1",children:[[1,2,3,4,5].map(s=>o.jsx("button",{type:"button",className:`difficulty-star text-4xl transition-colors ${(n??e)>=s?"text-yellow-400":"text-gray-300"}`,onMouseEnter:()=>r(s),onMouseLeave:()=>r(null),onClick:()=>t(s),"aria-label":`Оценка ${s}`,children:"★"},s)),o.jsx("input",{type:"hidden",name:"difficulty",value:e})]})]})};var fe="rovingFocusGroup.onEntryFocus",Wn={bubbles:!1,cancelable:!0},J="RovingFocusGroup",[be,ct,qn]=Me(J),[Xn,ut]=q(J,[qn]),[Jn,Qn]=Xn(J),dt=i.forwardRef((e,t)=>o.jsx(be.Provider,{scope:e.__scopeRovingFocusGroup,children:o.jsx(be.Slot,{scope:e.__scopeRovingFocusGroup,children:o.jsx(Zn,{...e,ref:t})})}));dt.displayName=J;var Zn=i.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:a,currentTabStopId:l,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:u,onEntryFocus:m,preventScrollOnEntryFocus:f=!1,...d}=e,p=i.useRef(null),h=I(t,p),b=ye(a),[v,x]=H({prop:l,defaultProp:c??null,onChange:u,caller:J}),[g,C]=i.useState(!1),y=Wt(m),w=ct(n),j=i.useRef(!1),[T,P]=i.useState(0);return i.useEffect(()=>{const S=p.current;if(S)return S.addEventListener(fe,y),()=>S.removeEventListener(fe,y)},[y]),o.jsx(Jn,{scope:n,orientation:r,dir:b,loop:s,currentTabStopId:v,onItemFocus:i.useCallback(S=>x(S),[x]),onItemShiftTab:i.useCallback(()=>C(!0),[]),onFocusableItemAdd:i.useCallback(()=>P(S=>S+1),[]),onFocusableItemRemove:i.useCallback(()=>P(S=>S-1),[]),children:o.jsx(k.div,{tabIndex:g||T===0?-1:0,"data-orientation":r,...d,ref:h,style:{outline:"none",...e.style},onMouseDown:R(e.onMouseDown,()=>{j.current=!0}),onFocus:R(e.onFocus,S=>{const D=!j.current;if(S.target===S.currentTarget&&D&&!g){const O=new CustomEvent(fe,Wn);if(S.currentTarget.dispatchEvent(O),!O.defaultPrevented){const N=w().filter(E=>E.focusable),A=N.find(E=>E.active),F=N.find(E=>E.id===v),K=[A,F,...N].filter(Boolean).map(E=>E.ref.current);pt(K,f)}}j.current=!1}),onBlur:R(e.onBlur,()=>C(!1))})})}),ft="RovingFocusGroupItem",mt=i.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:a,children:l,...c}=e,u=Ge(),m=a||u,f=Qn(ft,n),d=f.currentTabStopId===m,p=ct(n),{onFocusableItemAdd:h,onFocusableItemRemove:b,currentTabStopId:v}=f;return i.useEffect(()=>{if(r)return h(),()=>b()},[r,h,b]),o.jsx(be.ItemSlot,{scope:n,id:m,focusable:r,active:s,children:o.jsx(k.span,{tabIndex:d?0:-1,"data-orientation":f.orientation,...c,ref:t,onMouseDown:R(e.onMouseDown,x=>{r?f.onItemFocus(m):x.preventDefault()}),onFocus:R(e.onFocus,()=>f.onItemFocus(m)),onKeyDown:R(e.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){f.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const g=nr(x,f.orientation,f.dir);if(g!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let y=p().filter(w=>w.focusable).map(w=>w.ref.current);if(g==="last")y.reverse();else if(g==="prev"||g==="next"){g==="prev"&&y.reverse();const w=y.indexOf(x.currentTarget);y=f.loop?rr(y,w+1):y.slice(w+1)}setTimeout(()=>pt(y))}}),children:typeof l=="function"?l({isCurrentTabStop:d,hasTabStop:v!=null}):l})})});mt.displayName=ft;var er={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function tr(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function nr(e,t,n){const r=tr(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return er[r]}function pt(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function rr(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var or=dt,sr=mt,ht="Toggle",xt=i.forwardRef((e,t)=>{const{pressed:n,defaultPressed:r,onPressedChange:s,...a}=e,[l,c]=H({prop:n,onChange:s,defaultProp:r??!1,caller:ht});return o.jsx(k.button,{type:"button","aria-pressed":l,"data-state":l?"on":"off","data-disabled":e.disabled?"":void 0,...a,ref:t,onClick:R(e.onClick,()=>{e.disabled||c(!l)})})});xt.displayName=ht;var B="ToggleGroup",[gt,kr]=q(B,[ut]),vt=ut(),je=M.forwardRef((e,t)=>{const{type:n,...r}=e;if(n==="single"){const s=r;return o.jsx(ar,{...s,ref:t})}if(n==="multiple"){const s=r;return o.jsx(ir,{...s,ref:t})}throw new Error(`Missing prop \`type\` expected on \`${B}\``)});je.displayName=B;var[bt,yt]=gt(B),ar=M.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:s=()=>{},...a}=e,[l,c]=H({prop:n,defaultProp:r??"",onChange:s,caller:B});return o.jsx(bt,{scope:e.__scopeToggleGroup,type:"single",value:M.useMemo(()=>l?[l]:[],[l]),onItemActivate:c,onItemDeactivate:M.useCallback(()=>c(""),[c]),children:o.jsx(wt,{...a,ref:t})})}),ir=M.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:s=()=>{},...a}=e,[l,c]=H({prop:n,defaultProp:r??[],onChange:s,caller:B}),u=M.useCallback(f=>c((d=[])=>[...d,f]),[c]),m=M.useCallback(f=>c((d=[])=>d.filter(p=>p!==f)),[c]);return o.jsx(bt,{scope:e.__scopeToggleGroup,type:"multiple",value:l,onItemActivate:u,onItemDeactivate:m,children:o.jsx(wt,{...a,ref:t})})});je.displayName=B;var[lr,cr]=gt(B),wt=M.forwardRef((e,t)=>{const{__scopeToggleGroup:n,disabled:r=!1,rovingFocus:s=!0,orientation:a,dir:l,loop:c=!0,...u}=e,m=vt(n),f=ye(l),d={role:"group",dir:f,...u};return o.jsx(lr,{scope:n,rovingFocus:s,disabled:r,children:s?o.jsx(or,{asChild:!0,...m,orientation:a,dir:f,loop:c,children:o.jsx(k.div,{...d,ref:t})}):o.jsx(k.div,{...d,ref:t})})}),re="ToggleGroupItem",Ct=M.forwardRef((e,t)=>{const n=yt(re,e.__scopeToggleGroup),r=cr(re,e.__scopeToggleGroup),s=vt(e.__scopeToggleGroup),a=n.value.includes(e.value),l=r.disabled||e.disabled,c={...e,pressed:a,disabled:l},u=M.useRef(null);return r.rovingFocus?o.jsx(sr,{asChild:!0,...s,focusable:!l,active:a,ref:u,children:o.jsx(_e,{...c,ref:t})}):o.jsx(_e,{...c,ref:t})});Ct.displayName=re;var _e=M.forwardRef((e,t)=>{const{__scopeToggleGroup:n,value:r,...s}=e,a=yt(re,n),l={role:"radio","aria-checked":e.pressed,"aria-pressed":void 0},c=a.type==="single"?l:void 0;return o.jsx(xt,{...c,...s,ref:t,onPressedChange:u=>{u?a.onItemActivate(r):a.onItemDeactivate(r)}})}),ur=je,dr=Ct;const fr=Le("inline-flex items-center justify-center gap-2 rounded-md text-sm font-medium hover:bg-muted hover:text-muted-foreground disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 [&_svg]:shrink-0 focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] outline-none transition-[color,box-shadow] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive whitespace-nowrap",{variants:{variant:{default:"bg-transparent",outline:"border border-input bg-transparent shadow-xs hover:bg-accent hover:text-accent-foreground"},size:{default:"h-9 px-2 min-w-9",sm:"h-8 px-1.5 min-w-8",lg:"h-10 px-2.5 min-w-10"}},defaultVariants:{variant:"default",size:"default"}}),Tt=i.createContext({size:"default",variant:"default"});function mr({className:e,variant:t,size:n,children:r,...s}){return o.jsx(ur,{"data-slot":"toggle-group","data-variant":t,"data-size":n,className:_("group/toggle-group flex w-fit items-center rounded-md data-[variant=outline]:shadow-xs",e),...s,children:o.jsx(Tt.Provider,{value:{variant:t,size:n},children:r})})}function pr({className:e,children:t,variant:n,size:r,...s}){const a=i.useContext(Tt);return o.jsx(dr,{"data-slot":"toggle-group-item","data-variant":a.variant||n,"data-size":a.size||r,className:_(fr({variant:a.variant||n,size:a.size||r}),"min-w-0 flex-1 shrink-0 rounded-none shadow-none first:rounded-l-md last:rounded-r-md focus:z-10 focus-visible:z-10 data-[variant=outline]:border-l-0 data-[variant=outline]:first:border-l",e),...s,children:t})}const hr=[{value:"piano",label:"Клавишные",src:G.INSTRUMENT.PIANO,maxH:"100px"},{value:"drums",label:"Барабаны",src:G.INSTRUMENT.DRUMS,maxH:"100px"},{value:"bass",label:"Бас",src:G.INSTRUMENT.BASS,maxH:"100px"},{value:"eguitar",label:"Электрогитара",src:G.INSTRUMENT.EGUITAR,maxH:"80px"},{value:"acguitar",label:"Акустическая гитара",src:G.INSTRUMENT.AGUITAR,maxH:"80px"},{value:"vocal",label:"Вокал",src:G.INSTRUMENT.MICROPHONE,maxH:"90px"},{value:"other",label:"Другие инструменты",src:G.INSTRUMENT.OTHER,maxH:"100px"}],xr=()=>{const[e,t]=i.useState("eguitar");return o.jsxs("fieldset",{className:"mt-3 flex flex-col items-center justify-center",children:[o.jsx("legend",{className:"text-center",children:"Инструмент:"}),o.jsx(mr,{variant:"outline",value:e,onValueChange:t,type:"single",children:hr.map(({value:n,label:r,src:s,maxH:a})=>o.jsx(pr,{className:"h-[100px]",value:n,children:o.jsxs(Z,{children:[o.jsx(ee,{asChild:!0,children:o.jsx("img",{className:`max-h-[${a}]`,src:s,alt:n})}),o.jsx(te,{children:r})]})},n))}),o.jsx("input",{type:"hidden",name:"type",value:e})]})};var gr="Label",jt=i.forwardRef((e,t)=>o.jsx(k.label,{...e,ref:t,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));jt.displayName=gr;var vr=jt;function br({className:e,...t}){return o.jsx(vr,{"data-slot":"label",className:_("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...t})}var le="Checkbox",[yr,Er]=q(le),[wr,Se]=yr(le);function Cr(e){const{__scopeCheckbox:t,checked:n,children:r,defaultChecked:s,disabled:a,form:l,name:c,onCheckedChange:u,required:m,value:f="on",internal_do_not_use_render:d}=e,[p,h]=H({prop:n,defaultProp:s??!1,onChange:u,caller:le}),[b,v]=i.useState(null),[x,g]=i.useState(null),C=i.useRef(!1),y=b?!!l||!!b.closest("form"):!0,w={checked:p,disabled:a,setChecked:h,control:b,setControl:v,name:c,form:l,value:f,hasConsumerStoppedPropagationRef:C,required:m,defaultChecked:L(s)?!1:s,isFormControl:y,bubbleInput:x,setBubbleInput:g};return o.jsx(wr,{scope:t,...w,children:Tr(d)?d(w):r})}var St="CheckboxTrigger",Rt=i.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:n,...r},s)=>{const{control:a,value:l,disabled:c,checked:u,required:m,setControl:f,setChecked:d,hasConsumerStoppedPropagationRef:p,isFormControl:h,bubbleInput:b}=Se(St,e),v=I(s,f),x=i.useRef(u);return i.useEffect(()=>{const g=a==null?void 0:a.form;if(g){const C=()=>d(x.current);return g.addEventListener("reset",C),()=>g.removeEventListener("reset",C)}},[a,d]),o.jsx(k.button,{type:"button",role:"checkbox","aria-checked":L(u)?"mixed":u,"aria-required":m,"data-state":_t(u),"data-disabled":c?"":void 0,disabled:c,value:l,...r,ref:v,onKeyDown:R(t,g=>{g.key==="Enter"&&g.preventDefault()}),onClick:R(n,g=>{d(C=>L(C)?!0:!C),b&&h&&(p.current=g.isPropagationStopped(),p.current||g.stopPropagation())})})});Rt.displayName=St;var Nt=i.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:s,defaultChecked:a,required:l,disabled:c,value:u,onCheckedChange:m,form:f,...d}=e;return o.jsx(Cr,{__scopeCheckbox:n,checked:s,defaultChecked:a,disabled:c,required:l,onCheckedChange:m,name:r,form:f,value:u,internal_do_not_use_render:({isFormControl:p})=>o.jsxs(o.Fragment,{children:[o.jsx(Rt,{...d,ref:t,__scopeCheckbox:n}),p&&o.jsx(It,{__scopeCheckbox:n})]})})});Nt.displayName=le;var Pt="CheckboxIndicator",kt=i.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...s}=e,a=Se(Pt,n);return o.jsx(se,{present:r||L(a.checked)||a.checked===!0,children:o.jsx(k.span,{"data-state":_t(a.checked),"data-disabled":a.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});kt.displayName=Pt;var Et="CheckboxBubbleInput",It=i.forwardRef(({__scopeCheckbox:e,...t},n)=>{const{control:r,hasConsumerStoppedPropagationRef:s,checked:a,defaultChecked:l,required:c,disabled:u,name:m,value:f,form:d,bubbleInput:p,setBubbleInput:h}=Se(Et,e),b=I(n,h),v=Oe(a),x=De(r);i.useEffect(()=>{const C=p;if(!C)return;const y=window.HTMLInputElement.prototype,j=Object.getOwnPropertyDescriptor(y,"checked").set,T=!s.current;if(v!==a&&j){const P=new Event("click",{bubbles:T});C.indeterminate=L(a),j.call(C,L(a)?!1:a),C.dispatchEvent(P)}},[p,v,a,s]);const g=i.useRef(L(a)?!1:a);return o.jsx(k.input,{type:"checkbox","aria-hidden":!0,defaultChecked:l??g.current,required:c,disabled:u,name:m,value:f,form:d,...t,tabIndex:-1,ref:b,style:{...t.style,...x,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});It.displayName=Et;function Tr(e){return typeof e=="function"}function L(e){return e==="indeterminate"}function _t(e){return L(e)?"indeterminate":e?"checked":"unchecked"}function jr({className:e,...t}){return o.jsx(Nt,{"data-slot":"checkbox",className:_("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:o.jsx(kt,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:o.jsx(qt,{className:"size-3.5"})})})}const Sr=()=>{const[e,t]=i.useState([]),n=s=>{const a=new Set(e);a.has(s)?a.delete(s):a.add(s),t([...a])},r=[{id:"improvisation",label:"Импровизация"},{id:"rhythm",label:"Ритмика"},{id:"exercises",label:"Упражения"},{id:"theory",label:"Теория/Анализ"},{id:"recording",label:"Запись"},{id:"songs",label:"Песни"}];return o.jsxs("fieldset",{className:"mt-4",children:[o.jsx("legend",{children:"Тип тренировки:"}),o.jsxs("div",{className:"flex flex-wrap gap-2 rounded-lg border-1 border-gray-200 p-3",children:[r.map(({id:s,label:a})=>o.jsxs("div",{className:"flex space-x-2",children:[o.jsx(jr,{checked:e.includes(s),onCheckedChange:()=>n(s),id:s,name:s}),o.jsx(br,{htmlFor:s,children:a})]},s)),o.jsx("textarea",{name:"trainTypes",value:e.join(","),readOnly:!0,hidden:!0})]})]})},Ir=()=>{const[e,t]=i.useState(0),n=s=>{s.preventDefault()};return o.jsxs("div",{className:"flex min-h-screen flex-col items-center justify-center bg-stone-50 pt-2 pb-6",children:[o.jsx("div",{className:"flex w-full items-center justify-center",children:o.jsxs("h1",{className:"mb-3 border-b-6 border-yellow-400 pb-3 text-4xl font-bold",children:["Новая ",o.jsx("span",{className:"relative top-2 font-[LogoFont] text-5xl",children:"Ninja"})," тренировка!"]})}),o.jsxs("form",{className:"rounded-2xl border-1 border-gray-100 bg-white p-8 shadow-sm",onSubmit:n,children:[o.jsxs("div",{className:"flex w-auto flex-nowrap items-start gap-4 overflow-auto",children:[o.jsxs("div",{className:"w-1/2",children:[o.jsx("label",{htmlFor:"trainName",children:"Название тренировки:"}),o.jsx(ve,{id:"trainName",type:"text",className:"h-9",placeholder:"Название тренировки"}),o.jsx("label",{htmlFor:"trainDescription",className:"mt-3",children:"Описание:"}),o.jsx(Kn,{maxLength:250,id:"trainDescription",placeholder:"Описание тренировки",className:"h-20"})]}),o.jsxs("div",{className:"w-1/2",children:[o.jsx("label",{htmlFor:"trainDate",children:"Дата тренировки:"}),o.jsx(ve,{id:"trainDate",type:"date",className:"h-9"}),o.jsx(Sr,{})]})]}),o.jsx(Yn,{value:e,onChange:t}),o.jsx(xr,{}),o.jsx("div",{className:"mt-3 rounded-2xl border-gray-200 bg-gray-50 p-4 outline-1",children:o.jsx($n,{})}),o.jsx("button",{type:"submit",className:"mt-6 w-full rounded-lg bg-yellow-500 px-6 py-3 text-2xl text-white transition-colors hover:scale-101 hover:bg-yellow-400",children:"Записать тренировку"})]}),o.jsx(bn,{className:"mt-6 p-4"})]})};export{Ir as default};
